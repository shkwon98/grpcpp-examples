syntax = "proto3";

package robl.api;

option java_package         = "com.robl.api";
option java_outer_classname = "HeaderProto";
option java_multiple_files  = true;

import "google/protobuf/any.proto";
import "google/protobuf/timestamp.proto";

// Standard header attached to all GRPC requests to services.
message RequestHeader {
    // Time that the request was sent, as measured by the client's local system
    // clock.
    google.protobuf.Timestamp request_timestamp = 1;
    // Name of the client to identify itself. The name will typically include a
    // symbolic string to identify the program, and a unique integer to identify
    // the specific instance of the process running.
    string username = 2;
    // Unique identifier for the session. The session_id is generated by the
    // server and returned to the client when the session is created. The client
    // must include the session_id in all subsequent requests.
    uint32 session_id = 3;
}

// Standard header attached to all GRPC responses from services.
message ResponseHeader {
    // Echo-back the RequestHeader for timing information, etc....
    RequestHeader request_header = 1;
    // Time that the request was received. The server clock is the time basis.
    google.protobuf.Timestamp request_received_timestamp = 2;
    // Time that the response was sent. The server clock is the time basis.
    google.protobuf.Timestamp response_timestamp = 3;
    // Echoed request message. In some cases it may not be present, or it may be
    // a stripped down representation of the request.
    optional google.protobuf.Any request = 4;
}
